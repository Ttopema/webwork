<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8" />
		<title>Insert title here</title>
		<script type="text/javascript">
			//DOM객체가 생성되고 페이지가로딩되면 익명의 함수를 실행
			window.onload = function(){
				//alert("이벤트핸들러 속성에 이벤트연결");
				//페이지가 로딩되면 btndomtest라는 id로 정의된 객체를 찾아서 클릭이벤트를 연결
				//=> 버튼 클릭되면 메시지가 출력되도록 설정
				document.getElementById("btndomtest").onclick = function(){
					alert("dom구조확인하기버튼이 눌려짐");
					/* test(); */
					
				}
				//btninsert가 id명이 정의된 버튼을 찾아서 click이벤트가 발생되면 test함수가 실행되도록 연결
				//이벤트핸들러 속성에 함수가 절달되는 경우도 콜백함수의 형태로 정의 - 함수명만 정의
				document.getElementById("btninsert").onclick = domtest;
				
			}
			
			function domtest(){
				//모든 div태그로 정의된 엘리먼트를 구하기
				var divObj = document.getElementsByTagName("div");
				console.log(divObj);
				console.log(`노드의 갯수: ${divObj}`);
				//반횐된 NodeList는 배열처럼 관리되므로 for문으로 접근이 가능
				for(i=0; i<divObj.length; i++){
					
					console.log(divObj[i]);
					console.log("속성: " + divObj[i].getAttribute("id"));
					if(divObj[i].getAttribute("id") == "documentbtn"){
						console.log("폼객체===============");
					}
					console.log("노드의 이름=====>" + divObj[i].nodeName);
					//div의 자식노드를 구하는 것.
					//공백도 자식노드로 인식한다.
					console.log("노드의 첫번째 자식노드=====>" + divObj[i].firstChild.nodeName);
					console.log("노드의 마지막 자식노드=====>" + divObj[i].lastChild.nodeName);
					var mynodelist = divObj[i].childNodes;
					console.log(`자식노드의 개수: ${mynodelist.length}`);
				}
				
			}
		</script>
	</head>

	<body>
		<div id="main"><h1 id="myhead">안녕하세요 DOM에 관한 작업을 수행 중입니다.</h1>
			<div id="mycontent1"><img src="../images/m_garden07.jpg" name="myimg" id="myimagId"
					alt="이미지파일" /><h3>이미지파일</h3></div>
			<div id="mycontent2">DOM의 구조를 볼까~~</div>
			<div id="domtestbtn"><form id="myformId" name="myform">		
					<input type="button" value="dom구조확인하기"
						 name="btn" id="btndomtest" />
					<input type="button" value="노드삽입하기"
						 name="btn" id="btninsert" />
					<input type="button" value="이미지노드삽입하기"
						 name="btn" id="imginsert" />					 
					<input type="button" value="특정노드전에 삽입하기"
						 name="btn" id="btninsertbefore" />
					<input type="button" value="특정노드삭제하기"
						 name="btn" id="btndelete" />
				</form>
				
			</div>
		</div>
	</body>
</html>









